<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Key System</title>
</head>
<body style="background:#121212;color:white;text-align:center;padding:40px;">
  <h1>Roblox Key System</h1>
  <button id="linkvertiseBtn">Go to Linkvertise</button>

  <script>
    const linkvertiseBtn = document.getElementById('linkvertiseBtn');

    // âœ… Example: Get token from URL or make fake one for test
    const urlParams = new URLSearchParams(window.location.search);
    let token = urlParams.get('token');

    // If no token, generate a dummy one
    if (!token) {
      token = crypto.randomUUID();
    }

    console.log("Token:", token);

    linkvertiseBtn.addEventListener('click', () => {
      const linkvertiseUserId = "1370853";

      // Redirect back to your Vercel site with token
      const redirectBack = `https://ksl-two.vercel.app/?token=${token}&linkdone=true`;

      const randomPart = Math.floor(Math.random() * 1000);

      const linkvertiseUrl = `https://link-to.net/${linkvertiseUserId}/${randomPart}/dynamic?r=${encodeURIComponent(redirectBack)}`;

      console.log("Linkvertise URL:", linkvertiseUrl);

      window.location.href = linkvertiseUrl;
    });
  </script>
</body>
</html>
